# KEYBOARD_GPIO_POLLED: Used by Radxa Zero 2's power button
CONFIG_KEYBOARD_GPIO_POLLED=m

# EXT4_FS_SECURITY: Used for rootless ping
CONFIG_EXT4_FS_SECURITY=y

# CONFIG_USB_SERIAL: Add popular USB serial controllers
CONFIG_USB_SERIAL_GENERIC=y
CONFIG_USB_SERIAL_SIMPLE=m
CONFIG_USB_SERIAL_CH341=m
CONFIG_USB_SERIAL_PL2303=m

# Enable ES8316 codec which is used on Rock 4C
CONFIG_SND_SOC_ES8316=m

# Enable SPI features
CONFIG_SPI_BITBANG=m
CONFIG_SPI_GPIO=m
CONFIG_SPI_MESON_SPICC=m
CONFIG_SPI_MESON_SPIFC=m
CONFIG_SPI_ROCKCHIP=m
CONFIG_SPI_ROCKCHIP_SFC=m

# Fix panfrost cooling device error
# https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg2153527.html
CONFIG_DEVFREQ_THERMAL=y
CONFIG_AMLOGIC_THERMAL=m
CONFIG_ROCKCHIP_THERMAL=m

# Enable GPIO power reset to trigger external power circuit
CONFIG_POWER_RESET_GPIO=y
CONFIG_POWER_RESET_GPIO_RESTART=y

# Compile USB Storage as module
CONFIG_USB_STORAGE=m

# Enable additional input support
CONFIG_INPUT_JOYSTICK=y
CONFIG_INPUT_TABLET=y

# Enable Device Tree overlay
CONFIG_OF_OVERLAY=y

# Add at24 EEPROM driver
CONFIG_EEPROM_AT24=m

# Add ds1307 RTC driver
CONFIG_RTC_DRV_DS1307=m

# Enable System V IPC
CONFIG_SYSVIPC=y

# Enable EFI support
CONFIG_EFI=y

# Enable network features
CONFIG_NET_EGRESS=y
CONFIG_BRIDGE_NETFILTER=m
CONFIG_NF_CONNTRACK_PROCFS=y
CONFIG_NF_NAT_IPV6=y
CONFIG_NF_NAT_MASQUERADE_IPV6=y
CONFIG_IP6_NF_NAT=y
CONFIG_IP6_NF_TARGET_MASQUERADE=y
CONFIG_IP6_NF_TARGET_NPT=y
CONFIG_DNS_RESOLVER=y

# Enable Bluetooth features
CONFIG_BT_RFCOMM=y
CONFIG_BT_HCIUART=y

# Enable Wi-Fi features
CONFIG_CFG80211_WEXT=y
CONFIG_MAC80211=y

# Enable md-raid
CONFIG_BLK_DEV_MD=m

# Enable USBNET
CONFIG_USB_USBNET=m
CONFIG_USB_RTL8150=m
CONFIG_USB_RTL8152=m
CONFIG_USB_RTL8153_ECM=m
CONFIG_USB_NET_AX8817X=m
CONFIG_USB_NET_AX88179_178A=m
CONFIG_USB_NET_CDCETHER=m
CONFIG_USB_NET_CDC_EEM=m
CONFIG_USB_NET_CDC_NCM=m
CONFIG_USB_NET_CDC_MBIM=m
CONFIG_USB_SIERRA_NET=m
CONFIG_USB_NET_AQC111=m
CONFIG_USB_NET_SMSC95XX=m

# Enable DRM
CONFIG_DRM=y

# Disable Android options
# CONFIG_ANDROID_LOW_MEMORY_KILLER is not set

# Configure freq governor
CONFIG_DEVFREQ_GOV_SIMPLE_ONDEMAND=m
CONFIG_DEVFREQ_GOV_PERFORMANCE=m
CONFIG_DEVFREQ_GOV_POWERSAVE=m
CONFIG_DEVFREQ_GOV_USERSPACE=m
CONFIG_DEVFREQ_GOV_PASSIVE=m
CONFIG_CPU_FREQ_GOV_PERFORMANCE=m
CONFIG_CPU_FREQ_GOV_POWERSAVE=m
CONFIG_CPU_FREQ_GOV_USERSPACE=m
CONFIG_CPU_FREQ_GOV_ONDEMAND=m
CONFIG_CPU_FREQ_GOV_CONSERVATIVE=m
CONFIG_CPU_FREQ_GOV_SCHEDUTIL=y
# CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_POWERSAVE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_USERSPACE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE is not set
# CONFIG_CPU_FREQ_DEFAULT_GOV_SCHEDUTIL is not set
CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND=y

# Enable IR features
CONFIG_IR_MESON_TX=m
CONFIG_LIRC=y
CONFIG_IR_GPIO_CIR=m
CONFIG_IR_GPIO_TX=m
CONFIG_IR_PWM_TX=m
CONFIG_IR_SPI=m

# Disable some DRM drivers
CONFIG_DRM=m
# CONFIG_DRM_EXYNOS is not set
# CONFIG_DRM_HISI_HIBMC is not set
# CONFIG_DRM_HISI_KIRIN is not set
# CONFIG_DRM_NOUVEAU is not set

# Enable Rockchip features
CONFIG_ROCKCHIP_PHY=m
CONFIG_PINCTRL_ROCKCHIP=m
CONFIG_GPIO_ROCKCHIP=m
CONFIG_VIDEO_ROCKCHIP_RGA=m
CONFIG_ROCKCHIP_VOP=y
CONFIG_ROCKCHIP_VOP2=y
CONFIG_ROCKCHIP_RGB=y
CONFIG_ROCKCHIP_RK3066_HDMI=y
CONFIG_MMC_DW_ROCKCHIP=m
CONFIG_VIDEO_ROCKCHIP_VDEC=m
CONFIG_VIDEO_ROCKCHIP_ISP1=m
CONFIG_ROCKCHIP_MBOX=y
CONFIG_DEVFREQ_EVENT_ROCKCHIP_DFI=m
CONFIG_PWM_ROCKCHIP=m
CONFIG_PHY_ROCKCHIP_DP=m
CONFIG_PHY_ROCKCHIP_DPHY_RX0=m
CONFIG_PHY_ROCKCHIP_EMMC=m
CONFIG_PHY_ROCKCHIP_INNO_USB2=m
CONFIG_PHY_ROCKCHIP_INNO_CSIDPHY=m
CONFIG_PHY_ROCKCHIP_NANENG_COMBO_PHY=m
CONFIG_PHY_ROCKCHIP_SNPS_PCIE3=m
CONFIG_PHY_ROCKCHIP_TYPEC=m
CONFIG_PHY_ROCKCHIP_USB=m
CONFIG_ROCKCHIP_EFUSE=m
CONFIG_ROCKCHIP_OTP=m
CONFIG_CRYPTO_DEV_ROCKCHIP=m
CONFIG_EMAC_ROCKCHIP=m
CONFIG_MTD_NAND_ROCKCHIP=m
CONFIG_PCIE_ROCKCHIP_DW_HOST=y
CONFIG_PCIE_ROCKCHIP_EP=y
CONFIG_ROCKCHIP_DTPM=m
CONFIG_ROCKCHIP_IODOMAIN=m
CONFIG_SND_SOC_ROCKCHIP_I2S_TDM=m
CONFIG_SND_SOC_ROCKCHIP_MAX98090=m
CONFIG_SND_SOC_ROCKCHIP_PDM=m
CONFIG_SND_SOC_RK817=m
CONFIG_PM_DEVFREQ_EVENT=y

# Enable Synopsys DesignWare Cores Mobile Storage Controller
CONFIG_MMC_SDHCI_OF_DWCMSHC=m

# Enable PWM driven multi-color LED
CONFIG_LEDS_PWM_MULTICOLOR=m

# Enable Microchip Ethernet Controller
CONFIG_NET_VENDOR_MICROCHIP=y
CONFIG_ENC28J60=m
CONFIG_ENCX24J600=m

# Disable debug kernel
CONFIG_DEBUG_INFO_NONE=y
# CONFIG_DEBUG_INFO is not set
# CONFIG_DEBUG_INFO_DWARF_TOOLCHAIN_DEFAULT is not set
# CONFIG_DEBUG_INFO_REDUCED is not set

# Compress and decompress kernel modules
CONFIG_MODULE_COMPRESS_XZ=y
CONFIG_MODULE_DECOMPRESS=y

# https://github.com/radxa/kernel/pull/32
# Enable nf_tables & BPF
CONFIG_CGROUP_BPF=y
CONFIG_BPF_SYSCALL=y
CONFIG_NF_TABLES=m
CONFIG_NF_TABLES_INET=y
CONFIG_NF_TABLES_NETDEV=y
CONFIG_NFT_NUMGEN=m
CONFIG_NFT_CT=m
CONFIG_NFT_FLOW_OFFLOAD=m
CONFIG_NFT_COUNTER=m
CONFIG_NFT_CONNLIMIT=m
CONFIG_NFT_LOG=m
CONFIG_NFT_LIMIT=m
CONFIG_NFT_MASQ=m
CONFIG_NFT_REDIR=m
CONFIG_NFT_NAT=m
CONFIG_NFT_TUNNEL=m
CONFIG_NFT_OBJREF=m
CONFIG_NFT_QUEUE=m
CONFIG_NFT_QUOTA=m
CONFIG_NFT_REJECT=m
CONFIG_NFT_COMPAT=m
CONFIG_NFT_HASH=m
CONFIG_NFT_XFRM=m
CONFIG_NFT_SOCKET=m
CONFIG_NFT_OSF=m
CONFIG_NFT_TPROXY=m
CONFIG_NFT_DUP_NETDEV=m
CONFIG_NFT_FWD_NETDEV=m
CONFIG_NF_FLOW_TABLE_INET=m
CONFIG_NF_FLOW_TABLE=m
CONFIG_NETFILTER_XT_TARGET_CT=m
CONFIG_BPFILTER=y
CONFIG_BPF_JIT=y
# End of https://github.com/radxa/kernel/pull/32

# https://github.com/radxa/kernel/pull/36
# Network packet filtering framework (Netfilter) 
CONFIG_NETFILTER_XT_TARGET_CHECKSUM=m
CONFIG_NETFILTER_XT_TARGET_DSCP=m
CONFIG_NETFILTER_XT_TARGET_TPROXY=m
CONFIG_NETFILTER_XT_TARGET_TRACE=m
CONFIG_NETFILTER_XT_TARGET_TCPOPTSTRIP=m
CONFIG_NETFILTER_XT_MATCH_CGROUP=m
CONFIG_NETFILTER_XT_MATCH_IPCOMP=m
CONFIG_NETFILTER_XT_MATCH_PHYSDEV=m
CONFIG_NF_LOG_NETDEV=m
CONFIG_NF_CT_NETLINK_HELPER=m
CONFIG_IP_SET_HASH_IPMARK=m
CONFIG_IP_SET_HASH_IPMAC=m
CONFIG_IP_SET_HASH_MAC=m
CONFIG_IP_SET_HASH_NETPORTNET=m
CONFIG_IP_SET_HASH_NETNET=m

CONFIG_IP_VS_IPV6=y
CONFIG_IP_VS_PROTO_TCP=y
CONFIG_IP_VS_PROTO_UDP=y
CONFIG_IP_VS_PROTO_ESP=y
CONFIG_IP_VS_PROTO_AH=y
CONFIG_IP_VS_PROTO_SCTP=y
CONFIG_NF_LOG_ARP=m
CONFIG_NFT_DUP_IPV6=m
CONFIG_NFT_FIB_IPV6=m
CONFIG_NF_FLOW_TABLE_IPV6=m
CONFIG_NF_TABLES_BRIDGE=m
CONFIG_NFT_BRIDGE_META=m
CONFIG_NFT_BRIDGE_REJECT=m
CONFIG_NF_LOG_BRIDGE=m

# Packet: sockets monitoring interface
CONFIG_PACKET_DIAG=m

# Transport Layer Security support 
CONFIG_TLS=m
CONFIG_TLS_DEVICE=y
CONFIG_TLS_TOE=y

# Transformation virtual interface 
CONFIG_XFRM_INTERFACE=m

# UDP/RAW: socket monitoring interface
CONFIG_INET_UDP_DIAG=m
CONFIG_INET_RAW_DIAG=m

# TCP: advanced congestion control
CONFIG_TCP_CONG_HSTCP=m
CONFIG_TCP_CONG_HYBLA=m
CONFIG_TCP_CONG_NV=m
CONFIG_TCP_CONG_SCALABLE=m
CONFIG_TCP_CONG_LP=m
CONFIG_TCP_CONG_VENO=m
CONFIG_TCP_CONG_YEAH=m
CONFIG_TCP_CONG_ILLINOIS=m
CONFIG_TCP_CONG_DCTCP=m
CONFIG_TCP_CONG_CDG=m
CONFIG_TCP_CONG_BBR=m

# MPTCP: Multipath TCP 
CONFIG_MPTCP=y

# 802.1d Ethernet Bridging
CONFIG_BRIDGE_VLAN_FILTERING=y
# End of https://github.com/radxa/kernel/pull/36

# Enable btrfs
CONFIG_BTRFS_FS=m
CONFIG_BTRFS_FS_POSIX_ACL=y

# Camera sensor devices
CONFIG_VIDEO_GC2053=y
CONFIG_VIDEO_GC2093=y
CONFIG_VIDEO_GC8034=y
CONFIG_VIDEO_IMX219=y
CONFIG_VIDEO_IMX415=y
CONFIG_VIDEO_IMX464=y
CONFIG_VIDEO_OS04A10=y
CONFIG_VIDEO_OV4689=y
CONFIG_VIDEO_OV5647=y
CONFIG_VIDEO_OV5648=y
CONFIG_VIDEO_OV5695=y
CONFIG_VIDEO_OV7251=y
CONFIG_VIDEO_OV13850=y